From 4ace297aca5e5d30367ff35b117c030fedd1e43b Mon Sep 17 00:00:00 2001
From: SamuelRoettgermann <SamuelRoettgermann@users.noreply.github.com>
Date: Wed, 10 May 2023 18:33:33 +0200
Subject: [PATCH 1/3] [Extension] Button now tells time to next press on early
 press

---
 src/components/the-button.ts | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

diff --git a/src/components/the-button.ts b/src/components/the-button.ts
index d482b39..3cece91 100644
--- a/src/components/the-button.ts
+++ b/src/components/the-button.ts
@@ -226,8 +226,12 @@ export class TheButton extends BotComponent {
             }
             // check to see if the user has pressed it within the last 24 hours
             if(Date.now() - scoreboard[interaction.user.id].last_press <= PRESS_TIMEOUT) {
+                // ~~x converts the float x to an integer
+                // next_possible is the unix-time for the next possible button press
+                const next_possible = ~~((scoreboard[interaction.user.id].last_press + DAY) / 1000)
                 await interaction.reply({
-                    content: "Your may only press the button once per 24 hours",
+                    // string highlighting is screwed, because of the '<' and '>' characters
+                    content: `You can press the button again <t:${next_possible}:R>`,
                     ephemeral: true
                 });
                 return;

From 874b5b4ff4947f00b93cb8bb1e60f017eb3615ac Mon Sep 17 00:00:00 2001
From: SamuelRoettgermann <SamuelRoettgermann@users.noreply.github.com>
Date: Wed, 10 May 2023 19:12:11 +0200
Subject: [PATCH 2/3] changed to PRESS_TIMEOUT rather than DAY for the next
 possible click

---
 src/components/the-button.ts | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/src/components/the-button.ts b/src/components/the-button.ts
index 3cece91..d330379 100644
--- a/src/components/the-button.ts
+++ b/src/components/the-button.ts
@@ -228,7 +228,7 @@ export class TheButton extends BotComponent {
             if(Date.now() - scoreboard[interaction.user.id].last_press <= PRESS_TIMEOUT) {
                 // ~~x converts the float x to an integer
                 // next_possible is the unix-time for the next possible button press
-                const next_possible = ~~((scoreboard[interaction.user.id].last_press + DAY) / 1000)
+                const next_possible = ~~((scoreboard[interaction.user.id].last_press + PRESS_TIMEOUT) / 1000)
                 await interaction.reply({
                     // string highlighting is screwed, because of the '<' and '>' characters
                     content: `You can press the button again <t:${next_possible}:R>`,

From 18df69afe6e68bbde03bd1a0ee19ff8010a0b04a Mon Sep 17 00:00:00 2001
From: SamuelRoettgermann <SamuelRoettgermann@users.noreply.github.com>
Date: Wed, 10 May 2023 22:06:02 +0200
Subject: [PATCH 3/3] forgot a semicolon

---
 src/components/the-button.ts | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/src/components/the-button.ts b/src/components/the-button.ts
index d330379..43c52ce 100644
--- a/src/components/the-button.ts
+++ b/src/components/the-button.ts
@@ -228,7 +228,7 @@ export class TheButton extends BotComponent {
             if(Date.now() - scoreboard[interaction.user.id].last_press <= PRESS_TIMEOUT) {
                 // ~~x converts the float x to an integer
                 // next_possible is the unix-time for the next possible button press
-                const next_possible = ~~((scoreboard[interaction.user.id].last_press + PRESS_TIMEOUT) / 1000)
+                const next_possible = ~~((scoreboard[interaction.user.id].last_press + PRESS_TIMEOUT) / 1000);
                 await interaction.reply({
                     // string highlighting is screwed, because of the '<' and '>' characters
                     content: `You can press the button again <t:${next_possible}:R>`,
